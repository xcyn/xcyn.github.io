<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>女王</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" href="style/swiper.min.css">
		<script src="style/swiper.min.js"></script>
		<link rel="stylesheet" href="style/animate.min.css" />
		<link rel="stylesheet" href="style/queen.css" />
		<script src="style/swiper.animate.min.js"></script>
		<style type="text/css">
			.page5 {
				background: url(images/page3/02-背景图.jpg) no-repeat;
				background-size: cover;
			}
		</style>
	</head>
	<body>
		<!-- 添加一段注释 -->
		<!-- <audio id="aud" src="music/天使的翅膀.mp3" autoplay="autoplay"></audio> -->
		<div class="swiper-container">
			<div class="swiper-wrapper">
				<div class="swiper-slide page1">
					<div class="p1logo">
						<img class="logoimg" src="images/page1/00-LOGO1-4页.png" />
					</div>
					<div id="music" class="p1musle"></div>
					<div class="p1con">
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="0.8s">
							小时候
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="1.6s">
							每个女孩都是公主
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="2.4s">
							在父母爱的王国下成长
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="3s">
							小小的皇冠
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="3.6s">
							就能让你格外开心
						</div>
					</div>
					<img class="ani p1conimg3" src="images/page1/00-三角1-4页.png" alt="" />
				</div>
				<div class="swiper-slide page2">
					<div class="p1logo">
						<img class="logoimg" src="images/page1/00-LOGO1-4页.png" />
					</div>
					<div id="music" class="p1musle"></div>
					<div class="p1con">
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="0.8s">
							后来的她
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="1.6s">
							换上了锋利的高跟鞋
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="2.4s">
							画上了精致的妆容
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="3s">
							从公主到女王
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="3.6s">
							有些东西碎了
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="4.2s">
							却沉淀出了让人沉醉的韵味
						</div>
					</div>
					<img class="ani p1conimg3" src="images/page1/00-三角1-4页.png" alt="" />
				</div>
				<div class="swiper-slide page3">
					<div class="p1logo">
						<img class="logoimg" src="images/page1/00-LOGO1-4页.png" />
					</div>
					<div id="music" class="p1musle"></div>
					<div class="p1con">
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="0.8s">
							低头看，美丽的野花
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="1.6s">
							皇冠却不会掉
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="2.4s">
							时光早已留下了美丽的印记
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="3s">
							你愿意跟随气韵
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="3.6s">
							通往未知
						</div>
						<div class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="4.2s">
							解锁你的女王关键词吗？
						</div>
					</div>
					<img class="ani p1conimg3" src="images/page1/00-三角1-4页.png" alt="" />
				</div>
				<div class="swiper-slide page4">
					<div class="p1logo">
						<img class="logoimg" src="images/page1/00-LOGO1-4页.png" />
					</div>
					<div id="music" class="p1musle"></div>
					<div class="p1con">
						<div  class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="0.8s">
							轻扣铜锁
						</div>
						<div  class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="1.6s">
							开启魔法女王之旅
						</div>
						<div  class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="2.4s">
							惊喜在下一个转角
						</div>
						<div  class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="3s">
							等你
						</div>
						<div  class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="3.6s">
							......
						</div>
						<div  class=" ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="4.2s">
							却沉淀出了让人沉醉的韵味
						</div>
					</div>
					<img class="ani p1conimg3" src="images/page1/00-三角1-4页.png" alt="" />
				</div>
				<div class="swiper-slide page5" id="doorBtnIn">
					<div class="top">

					</div>
					<div class="door">
						<div class="door-frame" id="door">
							<!-- 门后的光线 -->
							<div id="light" class="light" style="opacity: 1;" hidden=""></div>
							<div class="left" id="door-left">

							</div>
							<div class="right" id="door-right">

							</div>
						</div>
					</div>
					<div class="bottom">
						<div class="des"></div>
					</div>
				</div>
			</div>
		</div>
		<script>
			var mySwiper = new Swiper('.swiper-container', {
				direction: 'vertical',
				loop: false,
				mousewheelControl: true,
				onInit: function(swiper) { //Swiper2.x的初始化是onFirstInit
					swiperAnimateCache(swiper); //隐藏动画元素 
					swiperAnimate(swiper); //初始化完成开始动画
				},
				onSlideChangeEnd: function(swiper) {
					swiperAnimate(swiper); //每个slide切换结束时也运行当前slide动画
				}
			})
			var music = document.getElementById("music")
			var aud = document.getElementById("aud")
			music.onclick = function() {
				if (aud.paused) {
					aud.play()
					this.style.backgroundSize = "100% 100%";
					this.style.animation = "rotateArrow 5s infinite linear";
				} else {
					aud.pause()
					this.style.backgroundSize = "100% 100%";
					this.style.animation = "null"
				}
			}

			// 开门
			var eleDoor = document.getElementById('door');
			var eleDoorLeft = document.getElementById('door-left');
			var eleDoorRifht = document.getElementById('door-right');
			var eleLight = document.getElementById('light');
			// 开门动画
			var percentDoor = 0;
			var fnOpenDoor = function() {
				percentDoor++;
				// 门完全打开后，进入下一个画面
				if (percentDoor == 100) {
					console.log('完成')
					window.location.href = './page/corridor.html'
					return;
				}
				// 门打开
				eleDoorLeft.style.transform = 'rotateY(' + (-90 * percentDoor / 100) + 'deg)';
				eleDoorRifht.style.transform = 'rotateY(' + (90 * percentDoor / 100) + 'deg)';
				eleLight.removeAttribute('hidden');
				// 光线变化
				eleLight.style.opacity = 0.8 - 0.9 * percentDoor / 100;
				setTimeout(fnOpenDoor, 16);
			};
			document.querySelector('#doorBtnIn').addEventListener('click', function() {
				fnOpenDoor();
			});
		</script>
	</body>
</html>
